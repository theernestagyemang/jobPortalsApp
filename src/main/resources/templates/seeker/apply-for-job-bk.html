<!DOCTYPE html>
<html lang="en">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="Jobs, L'aine Jogs" name="keywords"/>
    <meta content="Synergy OSL" name="author"/>
    <meta content="" name="robots"/>
    <meta content="xjobs -  Job Portal" name="description"/>
    <meta content="xjobs -  Job Portal" property="og:title"/>
    <meta content="xjobs -  Job Portal" property="og:description"/>
    <meta content="xjobs -  Job Portal" property="og:image"/>
    <meta content="telephone=no" name="format-detection">

    <!-- FAVICONS ICON -->
    <link rel="icon" th:href="@{/images/favicon.ico}" type="image/x-icon"/>
    <link rel="shortcut icon" th:href="@{/images/favicon.png}" type="image/x-icon"/>

    <!-- PAGE TITLE HERE -->
    <title>Apply for job | xjobs </title>

    <!-- MOBILE SPECIFIC -->
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <link rel="stylesheet" th:href="@{/css/job/bootstrap-grid.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/css/job/icons.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css/job/animate.min.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css/job/style.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/css/job/responsive.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/css/job/chosen.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/css/job/colors/colors.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/css/job/bootstrap.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/css/job/font-awesome.min.css}" type="text/css"/>
    <link href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css"
          rel="stylesheet">
    <link crossorigin="anonymous"
          href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.2/css/fontawesome.min.css"
          integrity="sha384-X8QTME3FCg1DLb58++lPvsjbQoCT9bp3MsUU3grbIny/3ZwUJkRNO8NPW6zqzuW9" rel="stylesheet">
    <link href="https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css"
          rel="stylesheet">
    <link class="skin" rel="stylesheet" th:href="@{/css/sweet-alert.min.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/css/notify.min.css}" type="text/css"/>
    <link class="skin" rel="stylesheet" th:href="@{/css/dropzone.css}" type="text/css"/>
    <link class="skin" rel="stylesheet" th:href="@{/css/sweet-alert.min.css}" type="text/css"/>
    <link class="skin" rel="stylesheet" th:href="@{/css/job-details.css}" type="text/css"/>
    <style>

        .dropzone {
            background: white;
            border-radius: 5px;
            border: 2px dashed rgb(0, 135, 247);
            border-image: none;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .dz-header {
            text-align: center;
        }

        .dropzone i {
            font-size: 5rem;
        }

        .dropzone .dz-message {
            color: rgba(0, 0, 0, .54);
            font-weight: 500;
            font-size: initial;
            text-transform: uppercase;
        }


        .dropzone i {
            font-size: 5rem;
        }

        .dropzone .dz-message {
            color: rgba(0, 0, 0, .54);
            font-weight: 500;
            font-size: initial;
            text-transform: uppercase;
        }

        .alert {
            padding: 20px;
            background-color: #f44336;
            color: white;
        }

        .closebtn {
            margin-left: 15px;
            color: white;
            font-weight: bold;
            float: right;
            font-size: 22px;
            line-height: 20px;
            cursor: pointer;
            transition: 0.3s;
        }

        .closebtn:hover {
            color: black;
        }

        li {
            display: inline;

        }

        li a {
            color: white;
        }

        #alertBox {
            border-radius: 10px;
            width: 50%;
            margin-left: auto;
            margin-right: auto;
        }
    </style>

</head>
<body>

<div class="page-loading">
    <img alt="" th:src="@{/images/loader.jpg}"/>
    <span>Skip Loader</span>
</div>
<div class="theme-layout" id="scrollup">

    <div th:insert="menu :: header"></div>

    <section class="overlape">
        <div class="block no-padding">
            <div class="parallax scrolly-invisible no-parallax lozad" data-velocity="-.1"
                 style="background: repeat scroll 50% 422.28px transparent;"
                 th:data-src="@{/images/about_us.png}"></div><!-- PARALLAX BACKGROUND IMAGE -->
            <div class="container fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="inner-header">
                            <h3 th:text="${job.profession}">Job Profession </h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="block">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 column">


                        <div class="job-single-sec" th:unless="${priv}">
                            <div class="job-single-head2">
                                <div class="job-title2"><h3>[(${job.profession})]</h3>
                                    <span class="job-is ft" th:if="${job.jobType != ''}"
                                          th:text="${job.jobType}"></span>
                                    <span class="job-is ft" th:if="${job.jobType == ''}">Not Specified</span>
                                    <i class="la la-heart-o"
                                       th:onclick="'javascript:rowClicked(\'' + ${job.id} + '\');'"></i>
                                </div>
                                <ul class="tags-jobs">
                                    <li><i class="la la-map-marker"></i> [(${job.location})], [(${job.country})]</li>
                                    <li><i class="la la-money"></i> Monthly Salary : <span>
                                                                    [(${#numbers.formatDecimal(job.renumeration, 0,'COMMA',2,'POINT')})] -
                                                                    [(${#numbers.formatDecimal(job.toRenumeration, 0,'COMMA',2,'POINT')})]</span>
                                    </li>
                                    <li><i class="la la-calendar-o"></i> Deadline: [(${job.expireDate})]</li>

                                    <li><i class="la la-paper-plane-o"></i>Job Category:
                                        <span> [(${job.category})]  </span></li>
                                </ul>
                                <span><h4>How to apply</h4> <p th:utext="${job.howToApply}"></p></span>
                                <input id="transactionId" th:value="${job.transactionId}" type="hidden"/>
                            </div><!-- Job Head -->

                            <div class="job-overview">

                                <div class="custom-control custom-checkbox">
                                    <input class="custom-control-input" id="chkPassport" name="colorCheckbox"
                                           type="checkbox">
                                    <label class="custom-control-label" for="chkPassport">Use my saved CV <span></span>
                                    </label>

                                </div>
                                <div class="red box" id="uploadDiv">
                                    <br/>
                                    <form action="/file-upload" class="dropzone"
                                          id="my-awesome-dropzone">
                                        <input name="id" type="hidden"/>
                                    </form>
                                </div>

                            </div>

                        </div>
                        <div class="job-single-head style2">

                            <a class="apply-job-btn site-button" href="#"
                               id="seeker-apply" th:hidden="${priv}"
                               title="Apply for this job"><i class="la la-paper-plane"></i>Apply for this job</a>

                            <a class="viewall-jobs" href="/all-jobs" title="">View all Jobs</a>

                        </div><!-- Job Head -->

                    </div>

                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer" style="margin-top:40px">
        <div th:insert="footer-1 :: footer"></div>

    </footer>

</div>

<div class="account-popup-area signin-popup-box">
    <div class="account-popup">
        <span class="close-popup"><i class="la la-close"></i></span>
        <h3>User Login</h3>
        <span>Click To Login With Demo User</span>
        <div class="select-user">
            <span>Candidate</span>
            <span>Employer</span>
        </div>
        <form>
            <div class="cfield">
                <input placeholder="Username" type="text"/>
                <i class="la la-user"></i>
            </div>
            <div class="cfield">
                <input placeholder="********" type="password"/>
                <i class="la la-key"></i>
            </div>
            <p class="remember-label">
                <input id="cb1" name="cb" type="checkbox"><label for="cb1">Remember me</label>
            </p>
            <a href="#" title="">Forgot Password?</a>
            <button type="submit">Login</button>
        </form>
        <div class="extra-login">
            <span>Or</span>
            <div class="login-social">
                <a class="fb-login" href="#" title=""><i class="fa fa-facebook"></i></a>
                <a class="tw-login" href="#" title=""><i class="fa fa-twitter"></i></a>
            </div>
        </div>
    </div>
</div><!-- LOGIN POPUP -->

<div class="account-popup-area signup-popup-box">
    <div class="account-popup">
        <span class="close-popup"><i class="la la-close"></i></span>
        <h3>Sign Up</h3>
        <div class="select-user">
            <span>Candidate</span>
            <span>Employer</span>
        </div>
        <form>
            <div class="cfield">
                <input placeholder="Username" type="text"/>
                <i class="la la-user"></i>
            </div>
            <div class="cfield">
                <input placeholder="********" type="password"/>
                <i class="la la-key"></i>
            </div>
            <div class="cfield">
                <input placeholder="Email" type="text"/>
                <i class="la la-envelope-o"></i>
            </div>
            <div class="dropdown-field">
                <select class="chosen" data-placeholder="Please Select Specialism">
                    <option>Web Development</option>
                    <option>Web Designing</option>
                    <option>Art & Culture</option>
                    <option>Reading & Writing</option>
                </select>
            </div>
            <div class="cfield">
                <input placeholder="Phone Number" type="text"/>
                <i class="la la-phone"></i>
            </div>
            <button type="submit">Signup</button>
        </form>
        <div class="extra-login">
            <span>Or</span>
            <div class="login-social">
                <a class="fb-login" href="#" title=""><i class="fa fa-facebook"></i></a>
                <a class="tw-login" href="#" title=""><i class="fa fa-twitter"></i></a>
            </div>
        </div>
    </div>
</div><!-- SIGNUP POPUP -->


<script th:src="@{/js/job/jquery.min.js}" type="text/javascript"></script>
<script data-cfasync="false" th:src="@{/css/job/email-decode.min.js}"></script>
<script th:src="@{/js/job/modernizr.js}" type="text/javascript"></script>
<script th:src="@{/js/job/cript.js}" type="text/javascript"></script>
<script th:src="@{/js/job/bootstrap.min.js}" type="text/javascript"></script>
<script th:src="@{/js/job/wow.min.js}" type="text/javascript"></script>
<script th:src="@{/js/job/slick.min.js}" type="text/javascript"></script>
<script th:src="@{/js/job/parallax.js}" type="text/javascript"></script>
<script th:src="@{/js/job/select-chosen.js}" type="text/javascript"></script>
<script th:src="@{/js/jquery.lazy.min.js}" type="text/javascript"></script>
<script th:src="@{/js/sweetAlert.js}"></script>
<script th:src="@{/js/notify.min.js}"></script>
<script th:src="@{/js/dz.ajax.js}"></script><!-- CONTACT JS  -->
<script th:src="@{/js/job/dropzone.js?v=6}"></script>
<script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><!-- SORTCODE FUCTIONS  -->
<script th:src="@{/js/apply-now.js}"></script>

<script>
    $(function () {
        $('.lozad').Lazy();
        $("#chkPassport").click(function () {

            if ($(this).is(":checked")) {
                $("#uploadDiv").hide();
            } else {

                $("#uploadDiv").show();
            }
        });

        $("#seeker-apply").on("click", function (e) {
            e.preventDefault();

            $("#seeker-apply").prop("disabled", true);

            var transactionId = $("#transactionId").val();
            var url = `/job/apply/${transactionId}`;


            $.ajax({
                type: "POST",
                url: url,
                processData: false,
                contentType: false,
                cache: false,
                timeout: 600000,

                success: function (data) {
                    switch (data) {

                        case "ALREADY-APPLIED":
                            swal({
                                title: "Unsuccessful!",
                                text: "Sorry, You have already applied for this Job!",
                                type: "error",
                                icon: "danger",
                                button: "Ok!"
                            });
                            break;

                        case "SUCCESS":
                            swal({
                                title: "Success!",
                                text: "Your application has been successfully Submitted!",
                                type: "success",
                                icon: "success",
                                button: "Ok!"
                            })
                                .then((value) => {
                                    $("#seeker-apply").prop("disabled", false);
                                });
                            break;

                        case "INVALID-USER":
                        case "INVALID-JOB":
                        case "INVALID-JOBSEEKER":
                            swal({
                                title: data,
                                text: "Sorry, You have provided an invalid credential!",
                                type: "error",
                                icon: "danger",
                                button: "Ok!"
                            })
                                .then((value) => {
                                    $("#seeker-apply").prop("disabled", false);
                                });
                            break;


                        case "FAILED":
                        case "ERROR":
                            swal({
                                title: "Unsuccessful!",
                                text: "Sorry, We couldn't submit your application!",
                                type: "error",
                                icon: "danger",
                                button: "Ok!"
                            });

                            $("#seeker-apply").prop("disabled", false);

                            break;
                    }

                },
                error: function (e) {
                    swal({
                        title: "Unsuccessful!",
                        text: "Sorry, We couldn't submit your application!",
                        type: "error",
                        icon: "danger",
                        button: "Ok!"
                    });

                    $("#seeker-apply").prop("disabled", false);

                }

            });


        });

    });

</script>
</body>
</html>
