<!DOCTYPE html>
<html lang="en">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="Jobs, L'aine Jogs" name="keywords"/>
    <meta content="Synergy OSL" name="author"/>
    <meta content="" name="robots"/>
    <meta content="xjobs -  Job Portal" name="description"/>
    <meta content="xjobs -  Job Portal" property="og:title"/>
    <meta content="xjobs -  Job Portal" property="og:description"/>
    <meta content="xjobs -  Job Portal" property="og:image"/>
    <meta content="telephone=no" name="format-detection">

    <!-- FAVICONS ICON -->
    <link href="/images/favicon.ico" rel="icon" type="image/x-icon"/>
    <link href="/images/favicon.png" rel="shortcut icon" type="image/x-icon"/>

    <!-- PAGE TITLE HERE -->
    <title>IT Skills | xjobs </title>

    <!-- MOBILE SPECIFIC -->
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <!-- Styles -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" rel="stylesheet">
    <link href="/css/job/bootstrap-grid.css" rel="stylesheet" type="text/css"/>
    <link href="/css/job/icons.css" rel="stylesheet">
    <link href="/css/job/animate.min.css" rel="stylesheet">
    <link href="/css/job/style.css" rel="stylesheet" type="text/css"/>
    <link href="/css/job/responsive.css" rel="stylesheet" type="text/css"/>
    <link href="/css/job/chosen.css" rel="stylesheet" type="text/css"/>
    <link href="/css/job/colors/colors.css" rel="stylesheet" type="text/css"/>


    <link href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css"
          rel="stylesheet">
    <link crossorigin="anonymous"
          href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.2/css/fontawesome.min.css"
          integrity="sha384-X8QTME3FCg1DLb58++lPvsjbQoCT9bp3MsUU3grbIny/3ZwUJkRNO8NPW6zqzuW9" rel="stylesheet">
    <link href="https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css"
          rel="stylesheet">
    <link crossorigin="anonymous"
          href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.2/css/fontawesome.min.css"
          integrity="sha384-X8QTME3FCg1DLb58++lPvsjbQoCT9bp3MsUU3grbIny/3ZwUJkRNO8NPW6zqzuW9" rel="stylesheet">
    <link class="skin" href="/css/sweet-alert.min.css" rel="stylesheet" type="text/css"/>

    <style>
        .slidecontainer {
            width: 100%;
        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 25px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        .slider:hover {
            opacity: 1;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            background: #4CAF50;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            background: #4CAF50;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div class="page-loading">
    <img alt="" src="/images/loader.gif"/>
    <span>Skip Loader</span>
</div>

<div class="theme-layout" id="scrollup">

    <div th:insert="menu :: header"></div>

    <section class="overlape">
        <div class="block no-padding">
            <div class="parallax scrolly-invisible no-parallax lozad" data-src="/images/bnr1.jpg"
                 data-velocity="-.1"
                 style="background: repeat scroll 50% 422.28px transparent;"></div><!-- PARALLAX BACKGROUND IMAGE -->
            <div class="container fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="inner-header">
                            <h3>Welcome [(${seeker.fullName})]</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="block no-padding">
            <div class="container">
                <div class="row no-gape">
                    <aside class="col-lg-3 column border-right">
                        <div class="widget">
                            <div class="tree_widget-sec">
                                <ul>
                                    <li><a href="/candidate-dashboard" title=""><i class="la la-dashboard"></i>Candidate
                                        Dashboard</a></li>
                                    <li><a href="/personal-details" title=""><i class="la la-user"></i>Personal Details</a>
                                    </li>
                                    <li><a href="/my-profile" title=""><i class="la la-file-text"></i>My Profile</a>
                                    </li>
                                    <li><a href="/saved-jobs" title=""><i class="la la-money"></i>Saved Job</a></li>
                                    <li><a href="/applied-job" title=""><i class="la la-paper-plane"></i>Applied Job</a>
                                    </li>
                                    <li><a href="/jobs-alerts" title=""><i class="la la-briefcase"></i>Job Alerts</a>
                                    </li>
                                    <li><a href="/cover-letter" title=""><i class="la la-file-text"></i>Cover Letter</a>
                                    </li>
                                    <li><a href="/change-password" title=""><i class="la la-lock"></i>Change
                                        Password</a></li>
                                    <li><a href="/logout" title=""><i class="la la-unlink"></i>Logout</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="widget">

                        </div>
                    </aside>
                    <div class="col-lg-9 column">
                        <div class="padding-left">
                            <div class="manage-jobs-sec">
                                <h3>IT Skills <em class="pull-right"> Step 6/13 </em></h3>

                                <div class="manage-jobs-sec">
                                                                <span class="pf-title">
                                                                    Please click on the 
                                                                    <a class="btn-primary"
                                                                       data-target="#employment" data-toggle="modal"
                                                                       href="javascript:void(0);"> Add Skills</a>
                                                                           button to add your company and then click <span
                                                                        style="color: red; font-style: 16px">next</span> button when you are done
                                                                           
                                                                           <a class="btn btn-primary site-button add-itskills"
                                                                              href="javascript:void(0);"><i
                                                                                   class="fa fa-plus m-r5"></i>Add IT Skills</a>
                                                                </span>
                                    <p>Mention all your IT Skills </p>
                                    <table>
                                        <thead>
                                        <tr>
                                            <td>Skills</td>
                                            <td>Proficiency</td>
                                            <th>Action</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="sk: ${skillslist}">
                                            <td th:text="${sk.skill}"></td>
                                            <td th:text="${sk.proficiency} +'%'"></td>
                                            <td><a class="m-l15 font-14 edit-itskills"
                                                   th:href="@{/findItSkills/{id}(id=${sk.id})}"><i
                                                    class="fa fa-pencil"></i></a></td>

                                        </tr>

                                        </tbody>
                                    </table>

                                </div>
                                <div class="col-lg-12 ">
                                    <a class="btn btn-success pull-right" href="/desired-career-profile"
                                       title="Next to Projects"><i class="la la-arrow-right m-r5"></i> Next</a>
                                    <a class="btn btn-success pull-right" href="/education" title="Back to it-skills"><i
                                            class="la la-arrow-left m-r5"></i> Back</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer" style="margin-top:40px">
        <div th:insert="footer-1 :: footer"></div>

    </footer>

</div>

<div class="profile-sidebar">
    <span class="close-profile"><i class="la la-close"></i></span>
</div><!-- Profile Sidebar -->

<div aria-hidden="true" aria-labelledby="ItskillsModalLongTitle" class="modal fade modal-bx-info editor" id="itskills"
     role="dialog" tabindex="-1">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="ItskillsModalLongTitle">IT Skills</h5>
                <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <form id="itSkillsFrm">
                <div class="modal-body">

                    <div class="row">
                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                <span class="pf-title">IT Skills</span>

                                <div class="pf-field">
                                    <input class="form-control" id="iTskill" placeholder="Enter IT Skills" required
                                           type="text">
                                    <input id="itskillsId" type="hidden" value="0"/>
                                    <input id="rsSeekerId" placeholder="Seeker Id" th:value="${seeker.id}"
                                           type="hidden">
                                </div>
                            </div>
                        </div>

                        <input id="iTversion" type="hidden">
                        <input class="form-control" id="lastUsed" type="hidden"/>
                        <input class="form-control" id="yearExp" type="hidden"/>
                        <input class="form-control" id="monthExp" type="hidden"/>


                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                <span class="pf-title">Proficiency</span>
                                <div class="pf-field">
                                    <input class="slider" id="proficiency" max="100" min="1" type="range" value="0">
                                    <em id="demo"></em>%
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger site-button" data-dismiss="modal" type="reset"><i
                            class="la la-times"></i> Cancel
                    </button>
                    <button class="btn btn-success site-button" id="itSkillsBtn" type="submit"><i
                            class="la la-save"></i> Save
                    </button>
                </div>

            </form>

        </div>
    </div>

</div>

<script src="/js/job/jquery.min.js" type="text/javascript"></script>
<script data-cfasync="false" src="css/job/email-decode.min.js"></script>
<script src="/js/job/modernizr.js" type="text/javascript"></script>
<script src="/js/job/cript.js" type="text/javascript"></script>
<script src="/js/job/bootstrap.min.js" type="text/javascript"></script>
<script src="/js/job/wow.min.js" type="text/javascript"></script>
<script src="/js/job/slick.min.js" type="text/javascript"></script>
<script src="/js/job/parallax.js" type="text/javascript"></script>
<script src="/js/job/select-chosen.js" type="text/javascript"></script>
<script src="/js/jquery.lazy.min.js" type="text/javascript"></script>
<div th:insert="passwordChange :: passwordChange"></div>
<script src="/js/sweetAlert.js"></script><!-- SORTCODE FUCTIONS  -->


<script type="text/javascript">
    $(function () {

        $('.lozad').Lazy();

        $("#passform").on("submit", function (e) {
            e.preventDefault();

            var password = $("#password").val();
            var url = "/change-password?pass" + password;
            $.post(url, function (data) {
                if (data) {
                    alert("password changed");
                } else {
                    alert("No password changed");
                }

            });
        });


        $('a.add-itskills').click(function (e) {
            var modal = $('#itskills');
            modal.modal('show');
        });


        $('a.edit-itskills').click(function (e) {
            e.preventDefault();

            $('#itskillsId').val(0);
            var modal = $('#itskills');
            modal.data('url', $(this).attr('href'));
            var url = modal.data('url');

            $.get(url, function (data, status) { //Declare a GET that takes in href

                $('#iTskill').val(data.skill);
                $('#iTversion').val(data.version);
                $('#lastUsed').val(data.lastUsed);
                $("#monthExp").val(data.monthExperience);
                $("#yearExp").val(data.yearExperience);
                $("#itskillsId").val(data.id);
                $("#proficiency").val(data.proficiency);

                $("#demo").html(data.proficiency);

            });

            modal.modal('show');
        });

        $("#txtConfirmPassword").keyup(function () {
            if ($("#password").val() != $("#txtConfirmPassword").val()) {
                $("#msg").html("Password do not match").css("color", "red");
                $("#btnUpdatepass").prop("disabled", true);
            } else {
                $("#msg").html("Password matched").css("color", "green");
                $("#btnUpdatepass").prop("disabled", false);
            }
        });

        $("#password").keyup(function () {

            if ($("#txtConfirmPassword").val() != "") {

                if ($("#password").val() != $("#txtConfirmPassword").val()) {
                    $("#msg").html("Password do not match").css("color", "red");
                    $("#btnUpdatepass").prop("disabled", true);
                } else {
                    $("#msg").html("Password matched").css("color", "green");
                    $("#btnUpdatepass").prop("disabled", false);
                }
            }

        });

        $("#itSkillsFrm").on("submit", function (e) {
            e.preventDefault();
            updateItSkills();
        });


        var slider = document.getElementById("proficiency");
        var output = document.getElementById("demo");
        output.innerHTML = slider.value; // Display the default slider value

        // Update the current slider value (each time you drag the slider handle)
        slider.oninput = function () {
            output.innerHTML = this.value;
        }

    });


    function updateItSkills() {


        var skill = $('#iTskill').val();
        var id = $('#rsSeekerId').val();

        var version = $('#iTversion').val();
        var lastUsed = $("#lastUsed").val();
        var monthExp = $("#monthExp option:selected").text();
        var yearExp = $("#yearExp").val();
        var strId = $("#itskillsId").val();
        var proficiency = parseInt($("#proficiency").val());
        var skillId = parseInt(strId);


        var url = "/update-itSkills?skill=" + skill + "&version=" + version + "&lastUsed=" + lastUsed + "&monthExp=" + monthExp + "&yearExp=" + yearExp + "&id=" + id + "&skillId=" + skillId + "&proficiency=" + proficiency;

        var modal = $('#itskills');
        // disabled the submit button
        $("#itSkillsBtn").prop("disabled", true);
        event.preventDefault();
        $.ajax({
            type: "POST",
            url: url,
            processData: false,
            contentType: false,
            cache: false,
            timeout: 600000,

            success: function (data) {

                swal({
                    title: "Success!",
                    text: "Your profile has been updated successfully!",
                    type: "success",
                    icon: "success",
                    button: "Ok!"
                })
                    .then((value) => {
                        $("#itSkillsBtn").prop("disabled", false);
                        location.reload();
                    });
                modal.modal('hide');
            },
            error: function (e) {
                swal({
                    title: "Unsuccessful!",
                    text: "Sorry, We couldn't update your profile!",
                    type: "error",
                    icon: "danger",
                    button: "Ok!"
                });
                modal.modal('hide');
                $("#itSkillsBtn").prop("disabled", false);

            }

        });

    }
</script>


</body>
</html>

