<!DOCTYPE html>
<html lang="en">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="Jobs, L'aine Jogs" name="keywords"/>
    <meta content="Synergy OSL" name="author"/>
    <meta content="" name="robots"/>
    <meta content="xjobs -  Job Portal" name="description"/>
    <meta content="xjobs -  Job Portal" property="og:title"/>
    <meta content="xjobs -  Job Portal" property="og:description"/>
    <meta content="xjobs -  Job Portal" property="og:image"/>
    <meta content="telephone=no" name="format-detection">

    <!-- FAVICONS ICON -->
    <link href="/images/favicon.ico" rel="icon" type="image/x-icon"/>
    <link href="/images/favicon.png" rel="shortcut icon" type="image/x-icon"/>

    <!-- PAGE TITLE HERE -->
    <title>Settings | xjobs </title>

    <!-- MOBILE SPECIFIC -->
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <!-- Styles -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" rel="stylesheet">
    <link href="/css/job/bootstrap-grid.css" rel="stylesheet" type="text/css"/>
    <link href="/css/job/icons.css" rel="stylesheet">
    <link href="/css/job/animate.min.css" rel="stylesheet">
    <link href="/css/job/style.css" rel="stylesheet" type="text/css"/>
    <link href="/css/job/responsive.css" rel="stylesheet" type="text/css"/>
    <link href="/css/job/chosen.css" rel="stylesheet" type="text/css"/>
    <link href="/css/job/colors/colors.css" rel="stylesheet" type="text/css"/>


    <link href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css"
          rel="stylesheet">
    <link crossorigin="anonymous"
          href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.2/css/fontawesome.min.css"
          integrity="sha384-X8QTME3FCg1DLb58++lPvsjbQoCT9bp3MsUU3grbIny/3ZwUJkRNO8NPW6zqzuW9" rel="stylesheet">
    <link href="https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css"
          rel="stylesheet">
    <link crossorigin="anonymous"
          href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.2/css/fontawesome.min.css"
          integrity="sha384-X8QTME3FCg1DLb58++lPvsjbQoCT9bp3MsUU3grbIny/3ZwUJkRNO8NPW6zqzuW9" rel="stylesheet">
    <link class="skin" href="/css/dropzone.css" rel="stylesheet" type="text/css"/>
    <link class="skin" href="/css/sweet-alert.min.css" rel="stylesheet" type="text/css"/>
    <!-- Optional theme -->
    <style>

        .dropzone {
            border: 2px dashed #dedede;
            border-radius: 5px;
            background: #f5f5f5;
        }

        .dropzone i {
            font-size: 5rem;
        }

        .dropzone .dz-message {
            color: rgba(0, 0, 0, .54);
            font-weight: 500;
            font-size: initial;
            text-transform: uppercase;
        }

        .my-tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        img {
            border: 1px solid #ddd; /* Gray border */
            border-radius: 4px; /* Rounded border */
            padding: 5px; /* Some padding */
            width: 150px; /* Set a small width */
        }

        /* Add a hover effect (blue shadow) */
        img:hover {
            box-shadow: 0 0 2px 1px rgba(0, 140, 186, 0.5);
        }

    </style>
</head>
<body>

<div class="page-loading">
    <img alt="" src="/images/loader.jpg"/>
    <span>Skip Loader</span>
</div>

<div class="theme-layout" id="scrollup">

    <div th:insert="menu-admin :: header"></div>

    <section class="overlape">
        <div class="block no-padding">
            <div class="parallax scrolly-invisible no-parallax" data-velocity="-.1"
                 style="background: url(images/bnr1.jpg) repeat scroll 50% 422.28px transparent;"></div>
            <!-- PARALLAX BACKGROUND IMAGE -->
            <div class="container fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="inner-header">
                            <h3 th:if="${user != null}" th:text="'Welcome ' + ${user.fullName}">Welcome </h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="block no-padding">
            <div class="container">
                <div class="row no-gape">
                    <aside class="col-lg-3 column border-right">
                        <div class="widget">
                            <div class="tree_widget-sec" id="menus">

                            </div>
                        </div>
                    </aside>
                    <div class="col-lg-9 column">
                        <div class="padding-left">
                            <div class="manage-jobs-sec">
                                <h3>Settings</h3>
                                <a class="btn btn-success btn-sm advertBtn pull-right" data-target="#signupModal"
                                   data-toggle="modal" style="color:white"
                                   title="Add Advert"> <i class="fa fa-gear"></i> Add Settings

                                </a>

                                <table>
                                    <thead>
                                    <tr>
                                        <td>Settings</td>
                                        <td>Action</td>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>Activate Payment Module</td>

                                        <td>
                                            <select class="form-control" id="paymentMode">
                                                <option>No</option>
                                                <option>Yes</option>
                                            </select>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>Notification Email Recipient</td>

                                        <td>
                                            <input class="form-control" id="notificationEmail" type="text"/>

                                        </td>
                                    </tr>


                                </table>
                                <button class="btn btn-info pull-right" id="btnSave">Save Settings</button>


                            </div>
                        </div>

                    </div>
                    <div class="col-lg-9 column">

                        <br/><br/><br/>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer" style="margin-top:40px">
        <div th:insert="footer-1 :: footer"></div>

    </footer>

</div>


<div aria-hidden="true" aria-labelledby="ProfilenameModalLongTitle" class="modal fade" id="subscriptionModal"
     role="dialog"
     style="width:80%" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="deleteLabel">Deleting Advert</h4>
            </div>
            <div class="modal-body">
                <section>
                    <div class="block remove-bottom">
                        <div class="parallax scrolly-invisible"
                             data-velocity="-.2"
                             style="background: url(images/resource/parallax5.jpg) repeat scroll 50% 422.28px transparent;"></div>
                        <!-- PARALLAX BACKGROUND IMAGE -->
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="heading">
                                        <h2>Buy Our Plans And Packages</h2>
                                    </div><!-- Heading -->
                                    <div class="plans-sec">
                                        <div class="row">
                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">

                                            </div>
                                            <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">

                                                <div class="pricetable active style2">
                                                    <div class="pricetable-head">
                                                        <h3>Basic (Free) Package</h3>
                                                        <span>Unlimited</span>
                                                    </div><!-- Price Table -->
                                                    <ul>
                                                        <div th:each="user : ${proMsg}" th:remove="tag">
                                                            <li th:text="${user}">Assessment</li>
                                                        </div>
                                                    </ul>
                                                    <a href="#" id="basicSup" th:data-id="${basic}" title="">BUY NOW</a>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                                                <div class="pricetable style2">
                                                    <div class="pricetable-head">
                                                        <h3>Premium Subscribers</h3>
                                                        <span>Unlimited</span>
                                                    </div><!-- Price Table -->
                                                    <ul>
                                                        <div th:each="user : ${extendedMsg}" th:remove="tag">
                                                            <li th:text="${user}">Assessment</li>
                                                        </div>
                                                    </ul>
                                                    <a href="#" id="premiumSub" th:data-id="${premium}" title="">BUY
                                                        NOW</a>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <div class="modal-footer">
                <button class="btn btn-success" data-dismiss="modal" type="button">Cancel</button>
                <button class="btn btn-danger" id="deleteConfirm" type="button">Delete Advert</button>
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" aria-labelledby="ProfilenameModalLongTitle" class="modal fade browse-job modal-bx-info editor"
     id="advertDlg"
     role="dialog" tabindex="-1">

    <div class="modal-dialog" role="document">

        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title" id="ProfilenameModalLongTitle">Settings Details</h5>
                <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Please name you files as follows:
                <ul>
                    <li>about.docx</li>
                    <li>privacyPolicy.docx</li>
                    <li>tnc.docx</li>
                    <li>siteMap.docx</li>
                    <li>faq.docx</li>
                    <li>reportProblem.docx</li>
                    <li>resume.docx</li>
                    <li>dbAccess.docx</li>
                </ul>
                <form action="/upload-settings"
                      class="dropzone"
                      id="my-awesome-dropzone">
                </form>


            </div>
            <div class="modal-footer">

            </div>

        </div>

    </div>

</div>
<div th:insert="passwordChange :: passwordChange"></div>


<script src="/js/job/jquery.min.js" type="text/javascript"></script>
<script data-cfasync="false" src="css/job/email-decode.min.js"></script>
<script src="/js/job/modernizr.js" type="text/javascript"></script>
<script src="/js/job/cript.js" type="text/javascript"></script>
<script src="/js/job/bootstrap.min.js" type="text/javascript"></script>
<script src="/js/job/wow.min.js" type="text/javascript"></script>
<script src="/js/job/slick.min.js" type="text/javascript"></script>
<script src="/js/job/parallax.js" type="text/javascript"></script>
<script src="/js/job/select-chosen.js" type="text/javascript"></script>
<script src="/js/jquery.lazy.min.js" type="text/javascript"></script>
<script src="/js/job/jquery.scrollbar.min.js" type="text/javascript"></script>
<script src="/js/sweetAlert.js"></script>
<script src="/js/job/dropzone.js?v=6"></script>
<script src="/js/dropzone-amd-module.js"></script>
<script src="/js/settings.js"></script>
<script src="/js/menus.js"></script>
<script>
    function clearText() {
        $('#catId').val(0);
        $('#title').val("");
        $('#message').val("");
        $('#category').val("");
    }

    $(function () {
        $('.lozad').Lazy();


        //Delete confirm and delete
        $('a.confirm-action').click(function (e) {
            e.preventDefault();
            var modal = $('#deleteConfirmModal');
            modal.data('url', $(this).attr('href'));
            modal.data('request_type', $(this).data('request-type'));
            modal.modal('show');
        });
        $('#deleteConfirm').click(function () {

            var modal = $('#deleteConfirmModal');
            var url = modal.data('url');

            $.get(url, function (assessment, status) { //Declare a GET that takes in href
                swal({
                    title: "Success!",
                    text: "Advert deleted successfully!",
                    type: "success",
                    icon: "success",
                    button: "Ok!"
                })
                    .then((value) => {
                        $("#btnSave").prop("disabled", false);
                        location.reload();
                    });
                modal.modal('hide');
            });

            modal.modal('hide');


        });

        //Edit Dialog
        $('a.edit-action').click(function (e) {
            e.preventDefault();
            var modal = $('#advertDlg');
            modal.data('url', $(this).attr('href'));
            var href = modal.data('url');

            //{"id":null,"client":null,"message":null,"entryDate":null,"status":null,"pageLocation":null,"uploadedFile":null,"fileName":null,"fileType":null,"externalLink":null}
            $.get(href, function (user, status) { //Declare a GET that takes in href

                $('#catId').val(user.id);
                $('#title').val(user.client);
                $('#message').val(user.message);
                $('#category').val(user.pageLocation);

            });
            modal.modal('show');
        });

        //Add Advert
        $('a.advertBtn').click(function (e) {
            e.preventDefault();
            clearText();
            var modal = $('#advertDlg');
            modal.data('url', $(this).attr('href'));
            modal.data('request_type', $(this).data('request-type'));
            modal.modal('show');
        });

        $('#frm').submit(function (e) {

            e.preventDefault();


            var modal = $('#advertDlg');
            var title = $('#title').val();
            var message = $('#message').val();
            var catId = parseInt($('#catId').val());
            var category = $("#category option:selected").val();

            var externalUrl = $('#externalUrl').val();

            // client, message, loc,String catId 
            var url = "/add-adverts?client=" + title + "&message=" + message + "&loc=" + category + "&catId=" + catId + "&extUrl=" + externalUrl;
            // disabled the submit button
            $("#btnSav").prop("disabled", true);

            $.ajax({
                type: "POST",
                url: url,
                processData: false,
                contentType: false,
                cache: false,
                timeout: 600000,

                success: function (data) {
                    switch (data) {
                        case "ALREADY-EXIST":
                            swal({
                                title: "Unsuccessful!",
                                text: "Horizontal Advert already exist!",
                                type: "error",
                                icon: "danger",
                                button: "Ok!"
                            });
                            break;
                        case "FAILED":
                            swal({
                                title: "Unsuccessful!",
                                text: "Sorry, We couldn't add your Settings!",
                                type: "error",
                                icon: "danger",
                                button: "Ok!"
                            });
                            break;
                        case "SUCCESS":
                            swal({
                                title: "Success!",
                                text: "Settings added successfully!",
                                type: "success",
                                icon: "success",
                                button: "Ok!"
                            })
                                .then((value) => {
                                    $("#btnSav").prop("disabled", false);
                                    location.reload();
                                });
                            break;
                    }

                },
                error: function (e) {
                    swal({
                        title: "Unsuccessful!",
                        text: "Sorry, We couldn't add your Settings!",
                        type: "error",
                        icon: "danger",
                        button: "Ok!"
                    });

                    $("#btnSav").prop("disabled", false);

                }

            });

            modal.modal('hide');
        });

        $('#btnSave').on("click", function () {
            var paymentMode = $("#paymentMode").val();
            var notificationEmail = $("#notificationEmail").val();

            var url = "/setup-company?paymentMode=" + paymentMode + "&notificationEmail=" + notificationEmail;

            $.post(url, function (data) {
                switch (data) {
                    case "INSUFFICIENT-PRIV":
                        swal({
                            title: "Unsuccessful!",
                            text: "Insufficient Privileges!",
                            type: "error",
                            icon: "danger",
                            button: "Ok!"
                        });
                        break;
                    case "FAILED":
                        swal({
                            title: "Unsuccessful!",
                            text: "Sorry, We couldn't add your Settings!",
                            type: "error",
                            icon: "danger",
                            button: "Ok!"
                        });
                        break;
                    case "SUCCESS":
                        swal({
                            title: "Success!",
                            text: "Settings added successfully!",
                            type: "success",
                            icon: "success",
                            button: "Ok!"
                        });
                        break;
                }
            });
        });

        $.get("/find-company", function (data) {
            $("#paymentMode").val(data.activatePayment);
            $("#notificationEmail").val(data.notificationEmail);
        });
    });

    //Document.ready


</script>


</body>
</html>

