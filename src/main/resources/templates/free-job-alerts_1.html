<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="" name="keywords"/>
    <meta content="Synergy OSL" name="author"/>
    <meta content="" name="robots"/>
    <meta content="xjobs- Job Portal" name="description"/>
    <meta content="xjobs- Job Portal" property="og:title"/>
    <meta content="xjobs- Job Portal" property="og:description"/>
    <meta content="xjobs- Job Portal" property="og:image"/>
    <meta content="telephone=no" name="format-detection">

    <!-- FAVICONS ICON -->
    <link href="/images/favicon.ico" rel="icon" type="image/x-icon"/>
    <link href="/images/favicon.png" rel="shortcut icon" type="image/x-icon"/>

    <!-- PAGE TITLE HERE -->
    <title>xjobs - Job Alerts</title>

    <!-- MOBILE SPECIFIC -->
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

    <!-- STYLESHEETS -->
    <link href="/css/plugins.css" rel="stylesheet" type="text/css">
    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <link href="/css/templete.css" rel="stylesheet" type="text/css">
    <link class="skin" href="/css/skin/skin-1.css" rel="stylesheet" type="text/css">
    <link class="skin" href="/css/sweet-alert.min.css" rel="stylesheet" type="text/css"/>
    <link href="/css/mycss.css" rel="stylesheet" type="text/css"/>
</head>
<body id="bg">
<div class="page-wraper">
    <div id="loading-area"></div>

    <!-- header -->
    <header class="site-header mo-left header fullwidth">
        <div th:insert="menu :: header"></div>
    </header>
    <!-- header END -->
    <!-- Content -->
    <div class="page-content">
        <!-- inner page banner -->
        <div class="dez-bnr-inr overlay-black-middle lozad" data-src="/images/job_list.png">
            <div class="container">
                <div class="dez-bnr-inr-entry">
                    <h1 class="text-white">Free Job Alerts</h1>
                    <!-- Breadcrumb row -->
                    <div class="breadcrumb-row">
                        <ul class="list-inline">
                            <li><a href="#">Home</a></li>
                            <li>Free Job Alerts</li>
                        </ul>
                    </div>
                    <!-- Breadcrumb row END -->
                </div>
            </div>
        </div>
        <!-- inner page banner END -->
        <!-- contact area -->
        <div class="content-block">
            <!-- Browse Jobs -->
            <div class="section-full browse-job content-inner-2">
                <div class="container">
                    <div class="job-bx bg-white">
                        <div class="row">
                            <div class="col-lg-8">
                                <form class="job-alert-bx" id="alertForm" method="post">
                                    <div class="row">


                                        <div class="col-lg-12">
                                            <div class="form-group">
                                                <label>Keywords</label>
                                                <input class="form-control"
                                                       id="jobKeywors"
                                                       placeholder="Skills, Designations, Roles, Companies"
                                                       required th:value="${alert.jobKeywors}" type="text"/>
                                                <input id="seekerId" th:value="${seeker.id}" type="hidden">
                                                <input id="alertId" th:value="${alert.id}" type="hidden">
                                            </div>
                                        </div>
                                        <div class="col-lg-12">
                                            <div class="form-group">
                                                <label>Location</label>
                                                <input class="form-control" id="jobLocation"
                                                       placeholder="Enter the cities you want to work in"
                                                       th:value="${alert.jobLocation}" type="text"/>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Work Experience</label>
                                                <input class="form-control" id="jobWorkExp"
                                                       placeholder="Work Experience example 2 years"
                                                       th:value="${alert.jobWorkExp}"
                                                       type="text"/>

                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Expected Salary</label>
                                                <input class="form-control" id="expSalary"
                                                       placeholder="Your Expected Salary" th:value="${alert.expSalary}"
                                                       type="number"/>
                                            </div>
                                        </div>

                                        <div class="col-lg-12">
                                            <div class="form-group">
                                                <label>Job Category</label>
                                                <input class="form-control" id="jobCategory"
                                                       placeholder="Type or Select the desired category"
                                                       th:value="${alert.jobCategory}"
                                                       type="text"/>
                                            </div>
                                        </div>

                                        <div class="col-lg-12">
                                            <div class="form-group">
                                                <label>Name your Job Alert</label>
                                                <input class="form-control" id="jobName"
                                                       placeholder="Enter a name that will help you recognize this Job Alert"
                                                       required th:value="${alert.name}" type="text"/>
                                            </div>
                                        </div>
                                        <div class="col-lg-12">
                                            <div class="form-group">
                                                <div class="custom-control custom-checkbox">
                                                    <input class="custom-control-input" id="job-alert-check"
                                                           name="job-alert-check" type="checkbox">
                                                    <label class="custom-control-label" for="job-alert-check">Also send
                                                        me jobs closely related to my search terms </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 text-center">
                                            <button class="site-button" id="certBtn" type="submit">Create Job Alert
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-lg-4 bg-gray">
                                <div class="p-a25">
                                    <h6>Why should you create a job alert</h6>
                                    <ul class="list-check primary">
                                        <li>Get relevant jobs directly in your inbox</li>
                                        <li>Stay updated with latest opportunities</li>
                                        <li>Be the first one to apply</li>
                                        <li>Create up to 5 personalized job alerts</li>
                                    </ul>
                                    <div class="dez-divider bg-gray-dark"></div>
                                    <h6 class="font-14">Why xjobs</h6>
                                    <p class="m-b10"><strong class="text-black m-r10">800,000+ </strong> Jobs</p>
                                    <p class="m-b10"><strong class="text-black m-r10">100,000+</strong> CV searches
                                        daily</p>
                                    <p>The impact of L'AÎNÉ Services Limited in Human Resource Development in Ghana is
                                        huge.
                                        The company plays the role of an eldest to many HR institutions in the country,
                                        living up to its name, L'AÎNÉ, which is a French word for ELDEST or FIRST BORN.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Browse Jobs END -->

        </div>

        <div th:insert="modal :: modal"></div>
    </div>
    <!-- Content END-->
    <!-- Modal Box -->

    <!-- Modal Box End -->
    <!-- Footer -->
    <footer class="site-footer" style="margin-top:40px">
        <div th:insert="footer :: footer"></div>

    </footer>
    <!-- Footer END -->
    <button class="scroltop fa fa-chevron-up"></button>
</div>
<!-- JAVASCRIPT FILES ========================================= -->
<script src="/js/jquery.min.js"></script><!-- JQUERY.MIN JS -->
<script src="/plugins/bootstrap/js/popper.min.js"></script><!-- BOOTSTRAP.MIN JS -->
<script src="/plugins/bootstrap/js/bootstrap.min.js"></script><!-- BOOTSTRAP.MIN JS -->
<script src="/plugins/bootstrap-select/bootstrap-select.min.js"></script><!-- FORM JS -->
<script src="/plugins/bootstrap-touchspin/jquery.bootstrap-touchspin.js"></script><!-- FORM JS -->
<script src="/plugins/magnific-popup/magnific-popup.js"></script><!-- MAGNIFIC POPUP JS -->
<script src="/plugins/counter/waypoints-min.js"></script><!-- WAYPOINTS JS -->
<script src="/plugins/counter/counterup.min.js"></script><!-- COUNTERUP JS -->
<script src="/plugins/imagesloaded/imagesloaded.js"></script><!-- IMAGESLOADED -->
<script src="/plugins/masonry/masonry-3.1.4.js"></script><!-- MASONRY -->
<script src="/plugins/masonry/masonry.filter.js"></script><!-- MASONRY -->
<script src="/plugins/owl-carousel/owl.carousel.js"></script><!-- OWL SLIDER -->
<script src="/js/custom.js"></script><!-- CUSTOM FUCTIONS  -->
<script src="/js/dz.carousel.js"></script><!-- SORTCODE FUCTIONS  -->
<script src="/js/dz.ajax.js"></script><!-- CONTACT JS  -->
<script src="/js/sweetAlert.js"></script><!-- SORTCODE FUCTIONS  -->
<script src="/js/jquery.lazy.min.js" type="text/javascript"></script>

<script type="text/javascript">
    $(function () {
        $('.lozad').Lazy();
    });
</script>

<script type='text/javascript'>

    $('#alertForm').submit(function (e) {
        e.preventDefault();

        updateDesiredCareer();
    });

    function updateDesiredCareer() {

        var jobKeywors = $('#jobKeywors').val();
        var jobLocation = $('#jobLocation').val();
        var jobWorkExp = $('#jobWorkExp').val();

        var name = $('#jobName').val();
        var expSalary = $('#expSalary').val();
        var jobCategory = $('#jobCategory').val();

        var id = $('#seekerId').val();
        var alertId = $('#alertId').val();

        var url = "/create-alert?jobKeywors=" + jobKeywors + "&jobLocation=" + jobLocation + "&jobWorkExp=" + jobWorkExp + "&name=" + name +
            "&expSalary=" + expSalary + "&jobCategory=" + jobCategory + "&id=" + id + "&alertId=" + alertId;

        // disabled the submit button
        $("#certBtn").prop("disabled", true);
        event.preventDefault();
        $.ajax({
            type: "POST",
            url: url,
            processData: false,
            contentType: false,
            cache: false,
            timeout: 600000,

            success: function (data) {

                swal({
                    title: "Success!",
                    text: "Your job alert submitted successfully!",
                    type: "success",
                    icon: "success",
                    button: "Ok!"
                })
                    .then((value) => {
                        $("#certBtn").prop("disabled", false);
                        location.reload();
                    });

            },
            error: function (e) {
                swal({
                    title: "Unsuccessful!",
                    text: "Sorry, We couldn't submit your job alert, please try again next time!",
                    type: "error",
                    icon: "danger",
                    button: "Ok!"
                });

                $("#certBtn").prop("disabled", false);

            }

        });

    }

</script>
</body>
</html>
